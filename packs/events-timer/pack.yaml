pack_id: greentic.events.timer
version: 0.1.0
kind: application
publisher: greentic
name: greentic.events.timer
description: Greentic timer/cron event providers
authors:
  - Greentic Engineering <engineering@greentic.dev>
license: MIT
meta:
  entry_flows:
    setup: setup
    requirements: requirements
  requires_public_base_url: false
  capabilities: []
components:
  - id: events-timer-source
    version: 1.0.0
    world: greentic:events/source@1.0.0
    supports:
      - event
    profiles:
      default: stateless
      supported:
        - stateless
    capabilities:
      wasi:
        clocks: true
      host:
        events:
          inbound: false
          outbound: true
    wasm: components/stubs/events-timer-source.wasm
  - id: templating.handlebars
    version: 0.1.0
    world: greentic:flow/templating@1.0.0
    supports:
      - messaging
    profiles:
      default: stateless
      supported:
        - stateless
    capabilities:
      wasi:
        clocks: true
        random: true
        filesystem:
          mode: none
          mounts: []
      host:
        messaging:
          inbound: false
          outbound: false
        secrets:
          required: []
        telemetry:
          scope: node
    wasm: components/templating.handlebars/stub.wasm
flows:
  - id: timer-default
    file: flows/default.ygtc
    entrypoints:
      - timer-default
  - id: setup-default
    file: flows/setup_default.ygtc
    entrypoints:
      - setup-default
  - id: setup-custom
    file: flows/setup_custom.ygtc
    entrypoints:
      - setup-custom
  - id: update
    file: flows/update.ygtc
    entrypoints:
      - update
  - id: remove
    file: flows/remove.ygtc
    entrypoints:
      - remove
events:
  providers:
    - name: "timer-core"
      kind: "source"
      component: "events-timer-source@1.0.0"
      capabilities:
        transport: "timer"
        reliability: "at_least_once"
        ordering: "none"
        topics:
          - "timer.*"
